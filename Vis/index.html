<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Victoria's Population Dynamics</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <style>
      body { 
        font-family: sans-serif; 
        max-width: 1200px; 
        margin: auto; 
        padding: 20px;
        line-height: 1.6;
      }
      hr { 
        margin: 50px 0; 
        border: 1px solid #eee;
      }
      h1, h2, h3, p {
        text-align: center;
      }
      /* --- 아래 새로운 CSS 규칙이 추가되었습니다 --- */
      #vis_map, #vis_scatter, #vis_top10_bar, #vis_pyramid {
        display: flex;
        justify-content: center;
      }
      .analysis-text {
        text-align: center;
        font-size: 0.9em;
        color: #333;
        margin-top: 20px;
      }
      .chart-container {
        display: flex;
        align-items: center; 
        gap: 30px; 
      }
      .vis-container {
        flex: 2; 
      }
      .text-container {
        flex: 1;
        text-align: center;
      }
    </style>
</head>
<body>
    <h1>Victoria's Population Pulse: A Story of Births and Deaths</h1>
    <p>This visualisation explores how population changes due to births and deaths have manifested across Victoria's Local Government Areas (LGAs) from 2011 to 2023. We will examine which areas are growing naturally, which are aging, and explore the potential reasons why through the data.</p>
    
    <hr>

    <h2>Where is the Population Growing or Declining?</h2>
    <p>The map below illustrates the 'natural increase' for each LGA. Use the slider to explore the data for a specific year. Hover over an area to see detailed numbers.</p>
    <div id="vis_map"></div>

    <div class="analysis-text">
        <h3>Key Observations from the Data</h3>
        <p>In 2023, a clear pattern emerges across Greater Melbourne. The metropolitan fringe areas, particularly in the <strong>fast-growing western and northern corridors</strong>, exhibit a high natural increase, likely linked to housing affordability. In contrast, many established <strong>eastern suburbs are experiencing a natural decrease</strong>.</p>
        <p>Comparing 2023 to a decade prior reveals a significant demographic shift across the state. Many regional areas that showed natural growth in 2013 have now shifted to a natural decrease, a trend particularly evident in the <strong>Mornington Peninsula</strong>.</p>
    </div>
    
    <hr>

    <h2>Why Do These Differences Occur?</h2>
    <p>
      2023 scatter plot: Median age (x) vs. births (y) by LGA; dot size reflects socio-economic status via the 2021 Census IRSD—larger dots, where a higher score represents a higher advantage of socio-economic growth.
    </p>
    <div class="chart-container">
        <div id="vis_scatter" class="vis-container"></div>
        <div class="text-container">
            <p>
                Overall, the chart shows a clear pattern: LGAs with lower median age have more births, aligning with the map’s high-growth “blue” areas as predominantly younger communities. Dot size adds nuance—LGAs with the most births (e.g., Casey, Hume) aren’t necessarily the most socio-economically advantaged, indicating that rapid birth-driven growth is concentrated in younger, developing outer-suburban corridors rather than the most affluent areas.
            </p>
        </div>
    </div>

    <hr>

    <h2>Which Regions Stand Out the Most?</h2>
    <p>Top 10 LGAs by births or deaths in 2023. Use the dropdown to switch.</p>
    <div id="vis_top10_bar"></div>

    <hr>

    <h2>A Dramatic Contrast in Population Structure</h2>
<p>The chart compares the 2023 age distribution for a high-birth area (Casey) and an area with more deaths (Mornington Peninsula).</p>
      </p>
    <div id="vis_pyramid"></div>

    <script>
      vegaEmbed('#vis_map', 'main_map.vg.json');
      vegaEmbed('#vis_scatter', 'scatter.vg.json');
      vegaEmbed('#vis_top10_bar', 'top10_bar.vg.json');
      vegaEmbed('#vis_pyramid', 'pyramid.vg.json');
    </script>

</body>
</html>