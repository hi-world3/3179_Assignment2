{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Median Age vs. Number of Births by LGA",
    "subtitle": "Victoria, 2023. Dot size represents socio-economic score."
  },
  "width": 400,
  "height": 300,
  "data": { "url": "vic_birth_mediana.csv" },
  "transform": [
    { "filter": "isValid(datum.ISRDSCORE)" }
  ],
  "layer": [
    {
      "mark": { "type": "point", "filled": true, "opacity": 0.6, "color": "steelblue" },
      "encoding": {
        "x": { "field": "MedianAge", "type": "quantitative", "title": "Median Age", "scale": { "zero": false } },
        "y": { "field": "Births", "type": "quantitative", "title": "Number of Births", "scale": { "zero": false } },
        "size": {
          "field": "ISRDSCORE", "type": "quantitative", "title": "Socio-economic Score",
          "scale": { "range": [20, 800], "domain": [800, 1100] }
        },
        "tooltip": [
          { "field": "LGA", "type": "nominal" },
          { "field": "MedianAge", "type": "quantitative" },
          { "field": "Births", "type": "quantitative" },
          { "field": "ISRDSCORE", "type": "quantitative" }
        ]
      }
    },
    {
      "transform": [ { "filter": "datum.LGA == 'Casey'" } ],
      "mark": { "type": "text", "align": "left", "baseline": "middle", "dx": 10, "fontSize": 12 },
      "encoding": {
        "x": { "field": "MedianAge", "type": "quantitative" },
        "y": { "field": "Births", "type": "quantitative" },
        "text": { "value": "Highest number of births" }
      }
    }
  ]
}
