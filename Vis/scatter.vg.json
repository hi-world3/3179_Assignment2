{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Median Age vs. Number of Births by LGA",
    "subtitle": "Victoria, 2023. Dot size represents socio-economic score (IRSD; higher = more advantaged)."
  },
  "width": 400,
  "height": 300,
  "data": { "url": "vic_birth_mediana.csv" },
  "transform": [
    { "filter": "isValid(datum.ISRDSCORE)" }
  ],
  "mark": {
    "type": "point",
    "filled": true,
    "opacity": 0.8,
    "stroke": "#333",
    "strokeWidth": 0.6,
    "color": "coral"        
  },
  "encoding": {
    "x": { "field": "MedianAge", "type": "quantitative", "title": "Median Age", "scale": { "zero": false } },
    "y": { "field": "Births", "type": "quantitative", "title": "Number of Births", "scale": { "zero": false } },
    "size": {
      "field": "ISRDSCORE",
      "type": "quantitative",
      "title": "IRSD (higher = advantaged)",
      "scale": { "type": "sqrt", "range": [10, 1800], "domain": [850, 1050] }
    },
    "tooltip": [
      { "field": "LGA", "type": "nominal" },
      { "field": "MedianAge", "type": "quantitative" },
      { "field": "Births", "type": "quantitative" },
      { "field": "ISRDSCORE", "type": "quantitative" }
    ]
  }
}
